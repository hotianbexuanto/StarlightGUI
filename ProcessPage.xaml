<?xml version="1.0" encoding="utf-8"?>
<Page
    x:Class="StarlightGUI.ProcessPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:StarlightGUI"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    Background="{StaticResource WindowBackgroundBrush}">

    <Grid Padding="20">
        <ScrollViewer>
            <Grid x:Name="RootGrid">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <StackPanel Grid.Row="0">
                    <!-- Terminator -->
                    <Button x:Name="TerminatorMainButton"
                            Padding="16" 
                            VerticalAlignment="Top"
                            HorizontalAlignment="Center"
                            BorderThickness="1"
                            Margin="0,0,0,20">

                        <Button.Shadow>
                            <ThemeShadow/>
                        </Button.Shadow>

                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="1050"/>
                            </Grid.ColumnDefinitions>
                            <Grid>
                                <StackPanel HorizontalAlignment="Left">
                                    <TextBlock Text="Terminator" FontSize="18" FontWeight="Bold" Margin="0,0,0,5"/>
                                    <TextBlock Text="使用各种方法（包括系统内部方法、外部手段、漏洞和不稳定方法等）终止指定进程。" FontSize="14"/>
                                    <TextBlock Text="输入指定进程名或进程PID，选择方式并点击按钮以进行终止。" FontSize="14" Margin="0,5,0,0"/>
                                    <TextBlock Text="输入示例: notepad / cmd.exe （大小写不敏感，不写.exe也可以）" FontSize="12" Margin="0,5,0,0" Foreground="LightGray"/>
                                    <StackPanel Orientation="Horizontal" Margin="0,10,0,10">
                                        <RichEditBox x:Name="TerminatorEditBox" PlaceholderText="进程名/PID..." Width="300" HorizontalAlignment="Left" AcceptsReturn="False"/>
                                        <Button x:Name="TerminatorButton" Content="终止" Margin="10,0,0,0" Click="TerminatorButton_Clicked"/>
                                    </StackPanel>
                                    <ComboBox x:Name="TerminatorComboBox" SelectedIndex="0" HorizontalAlignment="Left">
                                        <ComboBoxItem Content="1 | 常规终止进程 | TerminateProcess" />
                                        <ComboBoxItem Content="2 | 发送退出消息 | PostMessage" />
                                        <ComboBoxItem Content="3 | 内核结束进程 | NtTerminateProcess" />
                                        <ComboBoxItem Content="4 | 常规结束线程 | TerminateThread" />
                                        <ComboBoxItem Content="5 | 结束工作对象 | TerminateJobObject" />
                                        <ComboBoxItem Content="6 | 强制结束任务 | EndTask" />
                                        <ComboBoxItem Content="7 | 注入进程退出 | WriteProcessMemory" />
                                        <ComboBoxItem Content="8 | 附加调试退出 | DebugSetProcessKillOnExit" />
                                        <ComboBoxItem Content="9 | 工作站杀进程 | WinStationTerminateProcess" />
                                        <ComboBoxItem Content="10 | [特殊] | 内核级杀进程"/>
                                        <ComboBoxItem Content="11 | [危险] | 注入ExitProcess消息至线程" />
                                        <ComboBoxItem Content="12 | [危险] | 进程内存清零" />
                                    </ComboBox>
                                </StackPanel>
                            </Grid>
                        </Grid>
                    </Button>

                    <!-- Elevator -->
                    <Button x:Name="ElevatorMainButton"
                            Padding="16" 
                            VerticalAlignment="Top"
                            HorizontalAlignment="Center"
                            BorderThickness="1"
                            Margin="0,0,0,10">

                        <Button.Shadow>
                            <ThemeShadow/>
                        </Button.Shadow>

                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="1050"/>
                            </Grid.ColumnDefinitions>
                            <Grid>
                                <StackPanel HorizontalAlignment="Left">
                                    <TextBlock Text="Elevator" FontSize="18" FontWeight="Bold" Margin="0,0,0,5"/>
                                    <TextBlock Text="使用系统漏洞提权指定程序至TrustedInstaller权限并获得高特权" FontSize="14"/>
                                    <TextBlock Text="输入进程名或路径，点击按钮以进行提权。" FontSize="14" Margin="0,5,0,0"/>
                                    <TextBlock Text="输入示例: notepad / cmd.exe / C:\Windows\regedit.exe （不输路径则默认从运行目录、Windows和System32寻找）" FontSize="12" Margin="0,5,0,0" Foreground="LightGray"/>
                                    <StackPanel Orientation="Horizontal" Margin="0,10,0,10">
                                        <RichEditBox x:Name="ElevatorEditBox" PlaceholderText="进程名/路径..." Width="300" HorizontalAlignment="Left" AcceptsReturn="False"/>
                                        <Button x:Name="ElevatorButton" Content="提权" Margin="10,0,0,0" Click="ElevatorButton_Clicked"/>
                                    </StackPanel>
                                    <TextBlock Text="Tips: 在设置中可以调整是否获取完整特权" FontSize="12" Foreground="LightGray"/>
                                </StackPanel>
                            </Grid>
                        </Grid>
                    </Button>

                    <!-- Driver Loader -->
                    <Button x:Name="DriverLoaderMainButton"
                            Padding="16" 
                            VerticalAlignment="Top"
                            HorizontalAlignment="Center"
                            BorderThickness="1">

                        <Button.Shadow>
                            <ThemeShadow/>
                        </Button.Shadow>

                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="1050"/>
                            </Grid.ColumnDefinitions>
                            <Grid>
                                <StackPanel HorizontalAlignment="Left">
                                    <TextBlock Text="Driver Loader" FontSize="18" FontWeight="Bold" Margin="0,0,0,5"/>
                                    <TextBlock Text="加载指定驱动文件(.sys)至系统" FontSize="14"/>
                                    <TextBlock Text="输入路径选择文件，点击按钮加载。" FontSize="14" Margin="0,5,0,0"/>
                                    <TextBlock Text="输入示例: C:\Windows\System32\drivers\test.sys" FontSize="12" Margin="0,5,0,0" Foreground="LightGray"/>
                                    <StackPanel Orientation="Horizontal" Margin="0,10,0,10">
                                        <RichEditBox x:Name="DriverLoaderEditBox" PlaceholderText="路径..." Width="300" HorizontalAlignment="Left" AcceptsReturn="False"/>
                                        <Button x:Name="DriverLoaderLoadButton" Content="加载" Margin="10,0,0,0" Click="DriverLoaderLoadButton_Clicked"/>
                                    </StackPanel>
                                    <TextBlock Text="Tips: 在设置中可以开启绕过签名验证模式" FontSize="12" Foreground="LightGray"/>
                                </StackPanel>
                            </Grid>
                        </Grid>
                    </Button>
                </StackPanel>
            </Grid>
        </ScrollViewer>
        <StackPanel Width="1100" x:Name="InfoBarPanel"/>
    </Grid>
</Page>