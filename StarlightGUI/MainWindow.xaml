<?xml version="1.0" encoding="utf-8" ?>
<Window
    x:Class="StarlightGUI.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:controls="using:Microsoft.UI.Xaml.Controls"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:essential="using:WinUI3Package"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    Title="Starlight GUI"
    mc:Ignorable="d">

    <Grid x:Name="MainWindowGrid">
        <Grid Background="{StaticResource WindowBackgroundBrush}">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition Height="*" />
            </Grid.RowDefinitions>

            <Grid.Resources>
                <essential:ModernStandardWindowContextMenu x:Name="Menu" Window="{x:Bind}" />
            </Grid.Resources>

            <!--  自定义标题栏  -->
            <Grid
                x:Name="AppTitleBar"
                Height="48"
                Background="{StaticResource WindowBackgroundBrush}">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="Auto" />
                </Grid.ColumnDefinitions>

                <!--  应用图标和标题  -->
                <StackPanel
                    Grid.Column="0"
                    Margin="16,0,0,0"
                    HorizontalAlignment="Left"
                    VerticalAlignment="Center"
                    Orientation="Horizontal">
                    <Image
                        Width="24"
                        Height="24"
                        Margin="0,4,0,0"
                        Source="/Assets/Starlight.png" />
                    <TextBlock
                        Margin="16,0,0,0"
                        VerticalAlignment="Center"
                        FontSize="14"
                        Foreground="{ThemeResource SystemControlForegroundBaseHighBrush}"
                        Text="Starlight GUI" />
                    <TextBlock
                        Margin="4,0,0,0"
                        VerticalAlignment="Center"
                        FontSize="14"
                        FontStyle="Italic"
                        Foreground="{ThemeResource SystemControlForegroundBaseHighBrush}"
                        Text="{StaticResource Version}" />
                </StackPanel>

                <!--  标题栏拖拽区域  -->
                <Grid
                    x:Name="DragRegion"
                    Grid.Column="1"
                    Background="Transparent" />

                <!--  窗口控制按钮  -->
                <essential:WindowCaptionButtonThemeWorkaround Window="{x:Bind}" />
            </Grid>

            <!--  侧边栏区域  -->
            <essential:RevealFocusPanel x:Name="RevealFocusPanel" Grid.Row="1">
                <NavigationView
                    x:Name="RootNavigation"
                    Background="{StaticResource WindowBackgroundBrush}"
                    CompactModeThresholdWidth="0"
                    ExpandedModeThresholdWidth="0"
                    IsBackButtonVisible="Collapsed"
                    IsPaneOpen="False"
                    IsPaneToggleButtonVisible="True"
                    IsSettingsVisible="True"
                    ItemInvoked="RootNavigation_ItemInvoked"
                    OpenPaneLength="280"
                    PaneDisplayMode="LeftCompact">

                    <!--  选项，从上到下  -->
                    <NavigationView.MenuItems>
                        <NavigationViewItem
                            essential:RevealFocusPanel.AttachToPanel="{x:Bind RevealFocusPanel}"
                            Content="主页"
                            Icon="Home" />
                        <NavigationViewItem essential:RevealFocusPanel.AttachToPanel="{x:Bind RevealFocusPanel}" Content="任务管理">
                            <NavigationViewItem.Icon>
                                <FontIcon FontFamily="Segoe Fluent Icons" Glyph="&#xf120;" />
                            </NavigationViewItem.Icon>
                        </NavigationViewItem>
                        <NavigationViewItem essential:RevealFocusPanel.AttachToPanel="{x:Bind RevealFocusPanel}" Content="模块管理">
                            <NavigationViewItem.Icon>
                                <FontIcon FontFamily="Segoe Fluent Icons" Glyph="&#xe8ce;" />
                            </NavigationViewItem.Icon>
                        </NavigationViewItem>
                        <NavigationViewItem essential:RevealFocusPanel.AttachToPanel="{x:Bind RevealFocusPanel}" Content="文件管理">
                            <NavigationViewItem.Icon>
                                <FontIcon FontFamily="Segoe Fluent Icons" Glyph="&#xec50;" />
                            </NavigationViewItem.Icon>
                        </NavigationViewItem>
                        <NavigationViewItem essential:RevealFocusPanel.AttachToPanel="{x:Bind RevealFocusPanel}" Content="窗口管理">
                            <NavigationViewItem.Icon>
                                <FontIcon FontFamily="Segoe Fluent Icons" Glyph="&#xe74c;" />
                            </NavigationViewItem.Icon>
                        </NavigationViewItem>
                        <NavigationViewItem essential:RevealFocusPanel.AttachToPanel="{x:Bind RevealFocusPanel}" Content="系统功能">
                            <NavigationViewItem.Icon>
                                <FontIcon FontFamily="Segoe Fluent Icons" Glyph="&#xec7a;" />
                            </NavigationViewItem.Icon>
                        </NavigationViewItem>
                        <NavigationViewItem essential:RevealFocusPanel.AttachToPanel="{x:Bind RevealFocusPanel}" Content="监视器">
                            <NavigationViewItem.Icon>
                                <FontIcon FontFamily="Segoe Fluent Icons" Glyph="&#xea8f;" />
                            </NavigationViewItem.Icon>
                        </NavigationViewItem>
                    </NavigationView.MenuItems>

                    <!--  从下到上  -->
                    <!--  最下面是设置  -->
                    <NavigationView.FooterMenuItems>
                        <NavigationViewItem
                            essential:RevealFocusPanel.AttachToPanel="{x:Bind RevealFocusPanel}"
                            Content="关于"
                            Icon="Help" />
                    </NavigationView.FooterMenuItems>

                    <!--  内容  -->
                    <Frame x:Name="MainFrame" Grid.Row="1" />
                </NavigationView>
            </essential:RevealFocusPanel>
        </Grid>
        <StackPanel
            x:Name="InfoBarPanel"
            Margin="0,58,10,0"
            HorizontalAlignment="Right" />
    </Grid>
</Window>