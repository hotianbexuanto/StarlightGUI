<?xml version="1.0" encoding="utf-8" ?>
<Window
    x:Class="StarlightGUI.InfoWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:controls="using:Microsoft.UI.Xaml.Controls"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:essential="using:WinUI3Package"
    xmlns:local="using:StarlightGUI"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    Title="Starlight GUI Info"
    mc:Ignorable="d">

    <Grid x:Name="InfoWindowGrid">
        <Grid Background="{StaticResource WindowBackgroundBrush}">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition Height="*" />
            </Grid.RowDefinitions>

            <Grid.Resources>
                <essential:ModernStandardWindowContextMenu x:Name="Menu" Window="{x:Bind}" />
            </Grid.Resources>

            <!--  自定义标题栏  -->
            <Grid
                x:Name="AppTitleBar"
                Height="48"
                Background="{StaticResource WindowBackgroundBrush}">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="Auto" />
                </Grid.ColumnDefinitions>

                <!--  应用图标和标题  -->
                <StackPanel
                    Grid.Column="0"
                    Margin="16,0,0,0"
                    HorizontalAlignment="Left"
                    VerticalAlignment="Center"
                    Orientation="Horizontal">
                    <Image
                        Width="24"
                        Height="24"
                        Margin="0,4,0,0"
                        Source="/Assets/Starlight.png" />
                    <TextBlock
                        x:Name="ProcessName"
                        Margin="16,0,0,0"
                        VerticalAlignment="Center"
                        FontSize="14"
                        Foreground="{ThemeResource SystemControlForegroundBaseHighBrush}"
                        Text="Info Window" />
                </StackPanel>

                <!--  标题栏拖拽区域  -->
                <Grid
                    x:Name="DragRegion"
                    Grid.Column="1"
                    Background="Transparent" />

                <!--  窗口控制按钮  -->
                <essential:WindowCaptionButtonThemeWorkaround Height="48" Window="{x:Bind}" />
            </Grid>

            <NavigationView
                x:Name="RootNavigation"
                Grid.Row="1"
                Background="{StaticResource WindowBackgroundBrush}"
                CompactModeThresholdWidth="0"
                ExpandedModeThresholdWidth="0"
                IsBackButtonVisible="Collapsed"
                IsPaneOpen="False"
                IsPaneToggleButtonVisible="True"
                IsSettingsVisible="False"
                ItemInvoked="RootNavigation_ItemInvoked"
                OpenPaneLength="280"
                PaneDisplayMode="LeftCompact">

                <!--  选项，从上到下  -->
                <NavigationView.MenuItems>
                    <NavigationViewItem Content="线程" Icon="List" />
                    <NavigationViewItem Content="句柄" Icon="Tag" />
                    <NavigationViewItem Content="模块" Icon="AddFriend" />
                    <NavigationViewItem Content="内核回调表" Icon="NewWindow" />
                </NavigationView.MenuItems>

                <!--  内容  -->
                <Frame x:Name="MainFrame" Grid.Row="1" />
            </NavigationView>
        </Grid>
        <StackPanel
            x:Name="InfoBarPanel"
            Margin="0,58,10,0"
            HorizontalAlignment="Right" />
    </Grid>
</Window>
